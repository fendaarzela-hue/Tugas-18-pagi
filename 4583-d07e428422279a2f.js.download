!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="27f74556-42ae-488f-8efe-a5badd379f9d",e._sentryDebugIdIdentifier="sentry-dbid-27f74556-42ae-488f-8efe-a5badd379f9d")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4583],{2071:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var l=s(23798),r=s(71623),n=s(21462),a=s(32619),i=s(36383);let o=(0,a.A)(()=>Promise.all([s.e(6921),s.e(7758)]).then(s.bind(s,97758)),{rootMargin:"200px",threshold:0}),c=(0,n.memo)(e=>{let{className:t}=e,{isDesktop:s}=(0,i.k)();return(0,l.jsx)("footer",{style:{contentVisibility:"auto",containIntrinsicHeight:1428},"data-test-id":"footer",className:(0,r.A)("mt-10 flex flex-col",t),children:s?(0,l.jsx)(o,{}):null})})},2426:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(21462);let r=function(e,t){let{threshold:s=0,root:r=null,rootMargin:n="0%",freezeOnceVisible:a=!1,disconnectWhenIntersecting:i=!1}=t,[o,c]=(0,l.useState)(),[d,u]=(0,l.useState)(),h=(null==o?void 0:o.isIntersecting)&&a,m=e=>{let[t]=e;c(t)};return(0,l.useEffect)(()=>{(null==o?void 0:o.isIntersecting)&&i&&(null==d||d.disconnect())},[o,d,i]),(0,l.useEffect)(()=>{let t=null==e?void 0:e.current;if(!window.IntersectionObserver||h||!t)return;let l=new IntersectionObserver(m,{threshold:s,root:r,rootMargin:n});return u(l),l.observe(t),()=>l.disconnect()},[e,s,r,n,h]),o}},8616:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(23798),r=s(71623),n=s(28884);let a=(0,s(32619).A)(()=>s.e(7378).then(s.bind(s,87378))),i=e=>{let{className:t,shouldShowOnlyLinks:s=!1}=e;return(0,l.jsxs)("div",{className:(0,r.A)("mt-10 desktop:hidden",t),children:[s?null:(0,l.jsx)(n.A,{type:"row"}),(0,l.jsx)(a,{})]})}},17665:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(72732);let r=e=>{let{resources:t,lng:s,defaultNS:r}=(null===l.Ru||void 0===l.Ru?void 0:l.Ru.options)||{};return{t:l=>{if(!t||!s||!r)return l;if(Array.isArray(e))throw Error("useCustomTranslation does not support multiple namespaces yet");let n=e||r;return t[s][n][l]||l},i18n:l.Ru}}},21396:(e,t,s)=>{"use strict";s.d(t,{A:()=>N});var l=s(23798),r=s(70551),n=s(49966),a=s(8001),i=s(71623),o=s(91569),c=s.n(o),d=s(21462),u=s(92659),h=s(36383),m=s(44600),x=s(38469),p=s(52289);let f=(0,d.memo)(()=>{let e=(0,p.A)();return e&&0!==e.length?(0,l.jsx)("div",{className:"flex gap-2",children:e.map(e=>(0,l.jsx)("a",{className:"block rounded-tl-2xl rounded-tr-2xl px-4 py-2 font-bold uppercase first:-ml-4",href:"/s/".concat(e.id),"data-test-id":"segment-".concat(e.id),children:e.name},e.id))}):null}),g=(0,l.jsx)("div",{className:"h-5 w-[148px] fill-grey-100 tablet:min-w-44"}),b=(0,d.lazy)(()=>s.e(3917).then(s.bind(s,3917))),v=c()(()=>Promise.all([s.e(9896),s.e(4958),s.e(5655),s.e(2759)]).then(s.bind(s,22759)),{loadableGenerated:{webpack:()=>[22759]},ssr:!0,loading:()=>null}),w=c()(()=>Promise.all([s.e(9896),s.e(4958),s.e(5655),s.e(158)]).then(s.bind(s,70158)),{loadableGenerated:{webpack:()=>[70158]},ssr:!0,loading:()=>null}),y=(0,l.jsx)("div",{className:"h-10 rounded-full border-2 py-1 pl-4 pr-9 tablet:mx-4 tablet:block"}),j=(0,d.lazy)(()=>Promise.all([s.e(7504),s.e(7124),s.e(9852),s.e(9183)]).then(s.bind(s,28399))),A=e=>{let{shouldShowOnlyAccount:t=!1}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-32",children:(0,l.jsx)(r.A,{})}),t?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.A,{}),(0,l.jsx)(a.A,{})]})]})},k=(0,d.lazy)(()=>Promise.all([s.e(9896),s.e(4958),s.e(7504),s.e(9080)]).then(s.bind(s,52466))),N=e=>{let{className:t,shouldShowMobileSearch:s=!0,shouldShowMobileLogo:r=!0,TabletActionButton:n}=e,{isLoading:a,data:o}=(0,x._)(0),{isDesktop:c}=(0,h.k)(),p=(0,m.A)(),N=(0,u.j)(),_=(0,d.useCallback)(()=>N?a?(0,l.jsx)(f,{}):(null==o?void 0:o.length)?(0,l.jsx)(v,{}):(0,l.jsx)(w,{}):(0,l.jsx)(w,{}),[a,N,null==o?void 0:o.length]);return(0,l.jsx)("header",{id:"mobile_header",className:(0,i.A)("sticky -top-10 z-global bg-white px-4","tablet:top-0","desktop:px-12",t,"desktop:shadow-responsiveHeader"),style:{WebkitTransform:"translateZ(0)",transform:"translateZ(0)"},children:(0,l.jsxs)("div",{className:(0,i.A)("mx-auto flex max-w-screen-xl flex-col items-center gap-y-4","py-4 desktop:pb-0"),children:[(0,l.jsxs)("div",{className:(0,i.A)("flex w-full flex-col gap-y-4","tablet:flex-row tablet:items-center tablet:gap-x-8","desktop:gap-x-20"),children:[(c||r)&&p?(0,l.jsx)(d.Suspense,{fallback:g,children:(0,l.jsx)(b,{})}):g,(0,l.jsx)("div",{className:n?"tablet:basis-4/5":"tablet:basis-3/5",children:(c||s)&&p?(0,l.jsx)(d.Suspense,{fallback:y,children:(0,l.jsx)(j,{})}):y}),(0,l.jsx)("div",{className:"hidden items-center gap-x-6 desktop:flex",children:c?(0,l.jsx)(d.Suspense,{fallback:(0,l.jsx)(A,{}),children:(0,l.jsx)(k,{})}):(0,l.jsx)(A,{})}),n?(0,l.jsx)("div",{className:"hidden tablet:flex desktop:hidden",children:n}):null]}),(0,l.jsx)("div",{className:"hidden w-full desktop:flex desktop:h-9",children:(0,l.jsx)(_,{})})]})})}},23539:(e,t,s)=>{"use strict";s.d(t,{H:()=>r,K:()=>n});var l=s(73140);let r=async e=>{let{item:t,items:s,key:r,type:n="staticBlock",locale:a}=e;return await l.A.request("GET /cms/".concat(n,"/{key}"),{request:{headers:a?{"Content-Language":a}:{}},params:{path:[encodeURIComponent(r)],query:{item:t||s}}})},n=async e=>{let{data:t}=await l.A.request("GET /cms/brandslist/{key}",{params:{path:[e]}});return(null==t?void 0:t.BrandList)||[]}},24558:(e,t,s)=>{"use strict";s.d(t,{J:()=>i,p:()=>o});var l=s(16806),r=s(23539),n=s(96310),a=s(73140);let i=async(e,t)=>{try{let{data:s,error:l}=await (0,r.H)({key:"ios_category_screen_images",item:"text",type:"staticBlock",locale:t});if(l)throw l;if(!s||!s.Text)throw Error("CMS ios_category_screen_images is empty");let n=JSON.parse(s.Text);return e.reduce((e,t)=>({...e,[t.id]:n["segments_".concat(t.id)]}),{})}catch(e){return(0,n.l)("Error when fetching CMS key ios_category_screen_images",{error:e,tag:"get-request",level:"error"}),null}},o=async(e,t)=>{let{data:s,error:r}=await a.A.request("GET /navigation/{version}/items",{params:{query:{parent_item_id:t},path:[e.toString()]},transform:l.Zlj});return r&&(0,n.l)("Error when call GET /v1/navigation/[version]/items",{error:r,tag:"get-request",params:{version:e,parentNavigationId:t}}),(null==s?void 0:s.Items)||[]}},28884:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var l=s(23798),r=s(71623),n=s(21462),a=s(44732),i=s(16781);let o=(e,t)=>e&&0!==e.length?e.reduce((e,s)=>{let l=e.pop()||[],r=[...e];return l.length===t&&(r.push(l),l=[]),l.push(s),r.push(l),r},[]):[],c=(0,n.memo)(e=>{let{className:t,data:s,testId:n,title:c}=e,{isOpen:d,toggle:u}=(0,a.A)(!1),h=s&&s.length>30,m=o(d?s:null==s?void 0:s.slice(0,30),5);return 0===m.length?null:(0,l.jsxs)("div",{style:{contentVisibility:"auto"},"data-test-id":n,className:(0,r.A)("w-full",t),children:[(0,l.jsx)("h3",{className:"mb-1 p-3 font-bold uppercase",children:c}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex flex-wrap",children:m.map((e,t)=>(0,l.jsx)("ul",{className:"w-1/4 p-3 tablet:w-1/3",children:e.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("a",{className:"inline-block w-full py-1",href:e.url,children:e.label})},e.url))},t))}),h?(0,l.jsx)(i.$,{variant:"link",size:"sm",className:"px-3 py-0",onClick:u,"aria-label":"Show More","data-test-id":"show-more-btn",children:d?"Show Less":"Show More"}):null]})]})});var d=s(17665);let u=(0,n.memo)(e=>{let{data:t,linkToAll:s,title:r,toggle:n,isOpen:a}=e,{t:o}=(0,d.A)();if(!t||0===t.length)return null;let c=t.length>30;return(0,l.jsxs)("div",{className:"mb-1 flex h-10 items-center justify-between uppercase",children:[(0,l.jsx)("h3",{className:"font-bold",children:r}),s?(0,l.jsx)("a",{href:s,className:"underline","data-test-id":"linkToAllPage",children:o("View All")}):null,!s&&c?(0,l.jsx)(i.$,{variant:"link",size:"sm",className:"px-3 py-0 uppercase",onClick:n,"data-test-id":"show-more-btn",children:o(a?"Show Less":"Show More")}):null]})}),h=(0,n.memo)(e=>{let{className:t,data:s,linkToAll:n,testId:i,title:o}=e,{isOpen:c,toggle:d}=(0,a.A)(!1);if(!s||0===s.length)return null;let h=c?s:s.slice(0,30);return(0,l.jsxs)("div",{"data-test-id":i,className:(0,r.A)("w-full",t),style:{contentVisibility:"auto"},children:[(0,l.jsx)(u,{isOpen:c,toggle:d,data:s,linkToAll:n,title:o}),(0,l.jsx)("div",{children:(0,l.jsx)("ul",{children:h.map((e,t)=>(0,l.jsx)("li",{className:(0,r.A)("my-1 inline-block whitespace-nowrap",{"border-l border-solid border-slate-900":0!==t}),children:(0,l.jsx)("a",{className:"inline-block min-w-20 px-2 py-1.5 text-center",href:e.url,children:e.label})},e.label+e.url))})})]})});var m=function(e){return e.TOP_BRANDS_LIST="topBrandsList",e}({}),x=s(43107),p=s(59873),f=s(85924);let g=(0,n.memo)(e=>{let{type:t}=e,{t:s}=(0,d.A)(),n=(0,x.n)(p.q7),a=(0,x.n)(p.oL),i="column"===t?c:h,o=n.map(e=>({label:e.Name,url:(0,f.H)(e)})),u=a.reduce((e,t)=>{var s;return(null===(s=t.Urls)||void 0===s?void 0:s.length)&&e.push({label:t.KeywordName||"",url:t.Urls[0]}),e},[]);return(0,l.jsxs)("div",{className:(0,r.A)("mx-auto flex w-full max-w-screen-xl flex-col gap-4 border-b pb-4 text-grey-80 tablet:flex-row tablet:items-start",{"px-8":"column"===t},{"px-4":"row"===t}),children:[(0,l.jsx)(i,{className:"flex-1",title:s("Top Brands"),data:o,linkToAll:"/brands",testId:m.TOP_BRANDS_LIST}),(0,l.jsx)(i,{className:"flex-1",title:s("Top Searches"),data:u})]})})},32619:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var l=s(23798),r=s(91569),n=s.n(r),a=s(21462),i=s(2426),o=s(32563);let c=(e,t)=>s=>{let r=(0,a.useRef)(null),[c,d]=(0,a.useState)(null),{threshold:u=.5,rootMargin:h}=t||{},m=(0,i.A)(r,{threshold:u,rootMargin:h,freezeOnceVisible:!0,disconnectWhenIntersecting:!0}),x=!!(null==m?void 0:m.isIntersecting),[p,f]=(0,a.useState)(!1);return(0,o.y)(()=>{d(n()(e,{ssr:!1,loading:()=>(null==t?void 0:t.fallback)||null}))}),(0,a.useEffect)(()=>{x&&(0,a.startTransition)(()=>{f(!0)})},[x,f]),p&&c?(0,l.jsx)(c,{...s}):(0,l.jsx)("div",{ref:r,className:"w-full",children:(null==t?void 0:t.fallback)||null})}},37478:(e,t,s)=>{"use strict";s.d(t,{Lb:()=>g,Rq:()=>v,Z7:()=>p,hi:()=>b});var l=s(73372),r=s(24558),n=s(23539),a=s(73140),i=s(59255),o=s(46194),c=s(61073),d=s(72338),u=s(64712),h=s(74159),m=s(85317),x=s(43759);let p=async e=>{try{let{data:t}=await a.A.request("GET /catalog/segments",{request:{headers:{"Content-Language":e||""}},params:{query:{filter:"active"}}});return t?(0,o.LT)(t.Segments):[]}catch(e){return m.A.error("Error fetching segments",e),[]}},f=async e=>{try{let{content:t}=await s(51690)("./".concat(e));return t}catch(e){return m.A.error("Error fetching footer content",e),null}},g=async e=>{let{locale:t,routeKey:s,shouldFetchSegments:l=!0}=e,a=d.k,o=t===u.DEFAULT_LANGUAGE?u.i18nRegionalLanguages["en-SG"]:t,[m,x,g,b,v,w]=await Promise.all([l?p(t):[],(0,n.K)("footer_brands"),(0,i.EA)(),f(o),(0,r.p)(a,0),(0,h.Nf)({routeKey:s,featureFlagConfig:c.K,options:{isServerOnly:!0}})]);return{segments:m,topBrands:x,topSearches:g,footerContent:b,topLevelNavigationItems:v,enabledFeatureFlags:w}},b=e=>{let{topLevelNavigationItems:t,enabledFeatureFlags:s,...l}=e;return l},v=(e,t)=>{let{topLevelNavigationItems:s,enabledFeatureFlags:r}=e;return{[(0,l.WI)((0,h.HY)(t))]:r,[(0,l.WI)((0,x.H)(0))]:s}}},38469:(e,t,s)=>{"use strict";s.d(t,{_:()=>a});var l=s(75908),r=s(24558),n=s(72338);let a=e=>{let[t,s]=(0,n._)();return(0,l.A)(s&&void 0!==e?"/v1/navigation/".concat(t,"/items/").concat(e):null,async()=>(0,r.p)(t,e))}},43759:(e,t,s)=>{"use strict";s.d(t,{H:()=>a,w:()=>n});var l=s(72338),r=s(102);let n=(e,t)=>{window.location.href=(0,r.NK)(e,t)},a=e=>"/v1/navigation/".concat(l.k,"/items/").concat(e)},44600:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(21462);let r=function(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{(0,l.startTransition)(()=>{t(!0)})},[]),e}},51690:(e,t,s)=>{var l={"./en-HK":[23786,3786],"./en-HK.tsx":[23786,3786],"./en-MY":[64255,4255],"./en-MY.tsx":[64255,4255],"./en-PH":[67049,7049],"./en-PH.tsx":[67049,7049],"./en-SG":[43979,3979],"./en-SG.tsx":[43979,3979],"./id-ID":[65248,5248],"./id-ID.tsx":[65248,5248],"./zh-HK":[57151,7151],"./zh-HK.tsx":[57151,7151]};function r(e){if(!s.o(l,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=l[e],r=t[0];return s.e(t[1]).then(()=>s(r))}r.keys=()=>Object.keys(l),r.id=51690,e.exports=r},52289:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(75908),r=s(43107),n=s(59873),a=s(37478);let i=()=>{let e=(0,r.n)(n.JF),t=(0,r.o)();return(0,l.A)(e.length?null:"catalog/segments",a.Z7,{onSuccess:e=>t.setSegments(e)}),e}},59255:(e,t,s)=>{"use strict";s.d(t,{EA:()=>n,jE:()=>a});var l=s(86912),r=s(73140);let n=async e=>{let{data:t}=await r.A.request("GET /seo/keywords",{params:{query:{limit:"".concat(60),...e}}});return(null==t?void 0:t.SeoKeywords)||[]},a=async(e,t)=>{let{data:s,error:n,response:a}=await r.A.request("GET /seo/categories/{segment}",{request:{headers:t?{"Content-Language":t}:void 0},params:{path:[e]}});if(n)throw new l.h({message:"Errors occurred when getting categories of segment: ".concat(e),status:null==a?void 0:a.status,url:"/v1/seo/categories/".concat(e)});return(null==s?void 0:s.Categories)||[]}},72338:(e,t,s)=>{"use strict";s.d(t,{_:()=>r,k:()=>l});let l="latest",r=()=>[l,!0]},85317:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var l=s(33159),r=s(21159);let n=null,a=async()=>(0,r.A)()?(null===n&&(n=await s.e(1750).then(s.t.bind(s,81750,23)).then(e=>e.default({level:(0,l.w)("LOG_LEVEL")||"warn"}))),n||console):console,i=async(e,t,s)=>{(await a())[e](s,t)},o=["debug","info","warn","error"].reduce((e,t)=>(e[t]=async(e,s)=>{i(t,e,s)},e),{})},92659:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var l=s(15205),r=s(56063),n=s(41863);let a=()=>{let e="true"===(0,l.useRouter)().query.enable_new_navigation,t=(0,n.O)(r.A.Bob.LOTUS_ENABLED_NAVI);return e||t}}}]);
//# sourceMappingURL=4583-d07e428422279a2f.js.map